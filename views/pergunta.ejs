<%- include ('partials/header.ejs') %>
<body>
    <%- include ('partials/navbar.ejs') %>

    <div class="container">
        <hr>
        <h1><%= pergunta.titulo %></h1><!--  nome da variavel . nome da coluna -->
        <p><%= pergunta.descricao %></p>
        <hr>
        <form action="/responder" method="POST">
            <h3>Responda</h3>
            <label for="">Resposta:</label>
            <textarea placeholder="Digite sua resposta" class="form-control" name="corpo" id="">
            
            </textarea>
            <br>
            <input type="hidden" name="pergunta" value= '<%= pergunta.id %>'>
            <button type="submit" class="btn btn-info">Responder</button>
        </form>  
        <hr>
        <h3>Respostas</h3>
        <hr>

        <% if (respostas.length == 0) { %>
            <div class="alert alert-info">
                Ainda não há respostas para esta pergunta.
            </div>
        <% } %>

        <% respostas.forEach(resposta => { %>
            <div class="card">
                <div class="card-body">
                    <p><%= resposta.corpo %></p>
                </div>
                <p><%= createdAt %></p>
            </div>
            <br>
        <% }) %>
    </div>
    

</body>
<%- include ('partials/footer.ejs') %>